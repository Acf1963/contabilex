{% extends 'base.html' %}
{% load format_extras %}
{% block title %} Lançamentos Manuais - ContabileX {% endblock %}
{% block page_title %} Lançamentos de Diário {% endblock %}

{% block content %}
<div class="header-actions"
    style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
    <div>
        <h3 style="margin-bottom: 0.5rem">Movimentos do Diário</h3>
        <p style="color: var(--text-secondary); font-size: 0.9rem">
            Gestão de lançamentos contabilísticos manuais e ajustes.
        </p>
    </div>
    <a href="{% url 'novo_lancamento' %}" class="btn btn-primary" title="Novo Lançamento"
        style="text-decoration: none; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; padding: 0;">
        <i class="fas fa-book"></i>
    </a>
</div>

<div class="table-container">
    <table>
        <thead>
            <tr>
                <th>Número</th>
                <th>Data</th>
                <th>Descrição</th>
                <th style="text-align: right;">Total Débito</th>
                <th style="text-align: right;">Total Crédito</th>
                <th>Ações</th>
            </tr>
        </thead>
        <tbody>
            {% for lancamento in lancamentos %}
            <tr>
                <td><span class="badge badge-code">{{ lancamento.numero }}</span></td>
                <td>{{ lancamento.data|date:"d/m/Y" }}</td>
                <td style="font-weight: 500;">{{ lancamento.descricao }}</td>
                <td style="text-align: right; color: var(--success-color);">
                    Kz {{ lancamento.total_debito|default:0|format_moeda }}
                </td>
                <td style="text-align: right; color: var(--danger-color);">
                    Kz {{ lancamento.total_credito|default:0|format_moeda }}
                </td>
                <td>
                    <button class="btn" style="padding: 0.3rem 0.6rem; color: var(--text-secondary)"
                        title="Ver Detalhes">
                        <i class="fas fa-eye"></i>
                    </button>
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="6" style="text-align: center; padding: 2rem; color: var(--text-secondary);">
                    Nenhum lançamento manual registado ainda.
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<div style="margin-top: 2rem;">
    <a href="{% url 'relatorios_menu' %}" class="btn" style="background: rgba(255,255,255,0.05);">
        <i class="fas fa-book"></i> Ver Diário Completo
    </a>
</div>
{% endblock %}